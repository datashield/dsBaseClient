<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generates a Heat Map plot — ds.heatmapPlot • dsBaseClient</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generates a Heat Map plot — ds.heatmapPlot"><meta property="og:description" content="Generates a heat map plot of the pooled data or one plot for each dataset."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dsBaseClient</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">6.2.0-2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generates a Heat Map plot</h1>
    
    <div class="hidden name"><code>ds.heatmapPlot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates a heat map plot of the pooled data or one plot for each dataset.</p>
    </div>

    <div id="ref-usage">Usage,<div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ds.heatmapPlot</span><span class="op">(</span>
  x <span class="op">=</span> <span class="cn">NULL</span>,
  y <span class="op">=</span> <span class="cn">NULL</span>,
  type <span class="op">=</span> <span class="st">"combine"</span>,
  show <span class="op">=</span> <span class="st">"all"</span>,
  numints <span class="op">=</span> <span class="fl">20</span>,
  method <span class="op">=</span> <span class="st">"smallCellsRule"</span>,
  k <span class="op">=</span> <span class="fl">3</span>,
  noise <span class="op">=</span> <span class="fl">0.25</span>,
  datasources <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div></div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>a character string specifying the name of a numerical vector.</p></dd>
<dt>y</dt>
<dd><p>a character string specifying the name of a numerical vector.</p></dd>
<dt>type</dt>
<dd><p>a character string that represents the type of graph to display.
<code>type</code> argument can be set as <code>'combine'</code> or <code>'split'</code>. 
Default <code>'combine'</code>.
For more information see <strong>Details</strong>.</p></dd>
<dt>show</dt>
<dd><p>a character string that represents where the plot should be focused. 
<code>show</code> argument can be set as <code>'all'</code> or <code>'zoomed'</code>. 
Default <code>'all'</code>. 
For more information see <strong>Details</strong>.</p></dd>
<dt>numints</dt>
<dd><p>the number of intervals for a density grid object. 
Default <code>numints</code> value is <code>20</code>.</p></dd>
<dt>method</dt>
<dd><p>a character string that defines which heat map will be created. 
The <code>method</code> argument can be set as <code>'smallCellsRule'</code>, 
<code>'deterministic'</code> or <code>'probabilistic'</code>. 
Default <code>'smallCellsRule'</code>. 
For more information see <strong>Details</strong>.</p></dd>
<dt>k</dt>
<dd><p>the number of the nearest neighbours for which their centroid is calculated. 
Default <code>k</code> value is <code>3</code>. 
For more information see <strong>Details</strong>.</p></dd>
<dt>noise</dt>
<dd><p>the percentage of the initial variance that is used as the variance of the embedded
noise if the argument <code>method</code> is set to <code>'probabilistic'</code>. 
Default <code>noise</code> value is  <code>0.25</code>.
For more information see <strong>Details</strong>.</p></dd>
<dt>datasources</dt>
<dd><p>a list of <code><a href="https://datashield.github.io/DSI/reference/DSConnection-class.html" class="external-link">DSConnection-class</a></code> objects obtained after login. 
If the <code>datasources</code> argument is not specified
the default set of connections will be used: see <code><a href="https://datashield.github.io/DSI/reference/datashield.connections_default.html" class="external-link">datashield.connections_default</a></code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><code>ds.heatmapPlot</code> returns to the client-side a heat map plot and a message specifying 
the number of invalid cells in each study.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code>ds.heatmapPlot</code> function first generates a density grid 
and uses it to plot the graph.
Cells of the grid density matrix that hold a count of less than the filter set by
DataSHIELD (usually 5) are considered invalid and turned into 0 to avoid potential
disclosure. A message is printed to inform the user about the number of invalid cells.
The ranges returned by each study and used in the process of getting the grid density matrix
are not the exact minimum and maximum values but rather close approximates of the real
minimum and maximum value. This was done to reduce the risk of potential disclosure.</p>
<p>In the argument <code>type</code> can be specified two types of graphics to display:</p><ul><li><p><code>'combine'</code>: a combined heat map plot is displayed</p></li>
<li><p><code>'split'</code>: each heat map is plotted separately</p></li>
</ul><p>In the argument <code>show</code> can be specified two options:</p><ul><li><p><code>'all'</code>: the ranges of the variables are used as plot limits</p></li>
<li><p><code>'zoomed'</code>: the plot is zoomed to the region where the actual data are</p></li>
</ul><p>In the argument <code>method</code> can be specified 3 different heat map to be created:</p><ul><li><p><code>'smallCellsRule'</code>: the heat map of the actual variables is
    created but grids with low counts are replaced with grids with zero counts</p></li>
<li><p><code>'deterministic'</code>: the heat map of the scaled centroids of each 
         <code>k</code> nearest neighbours of the
        original variables are created, where the value of <code>k</code> is set by the user</p></li>
<li><p><code>'probabilistic'</code>:  the heat map of <code>'noisy'</code> variables is generated. 
          The added noise follows a normal distribution with 
          zero mean and variance equal to a percentage of
          the initial variance of each input variable. 
          This percentage is specified by the user in the
          argument <code>noise</code></p></li>
</ul><p>In the <code>k</code> argument the user can choose any value for 
<code>k</code> equal to or greater than the pre-specified threshold
used as a disclosure control for this method and lower than the number of observations
minus the value of this threshold. By default the value of <code>k</code> is set to be equal to 3
(we suggest k to be equal to, or bigger than, 3). Note that the function fails if the user
uses the default value but the study has set a bigger threshold. 
The value of <code>k</code> is used only
if the argument <code>method</code> is set to <code>'deterministic'</code>. 
Any value of <code>k</code> is ignored if the
argument <code>method</code> is set to <code>'probabilistic'</code> or <code>'smallCellsRule'</code>.</p>

<p>The value of <code>noise</code> is used only if the argument 
<code>method</code> is set to <code>'probabilistic'</code>.
Any value of <code>noise</code> is ignored if the argument 
<code>method</code> is set to <code>'deterministic'</code> or <code>'smallCellsRule'</code>. 
The user can choose any value for <code>noise</code> equal 
to or greater than the pre-specified threshold <code>'nfilter.noise'</code>.</p>
<p>Server function called: <code>heatmapPlotDS</code></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>DataSHIELD Development Team</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by DataSHIELD Developers.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

      </footer></div>

  


  

  </body></html>

