<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculates matrix diagonals in the server-side — ds.matrixDiag • dsBaseClient</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculates matrix diagonals in the server-side — ds.matrixDiag"><meta property="og:description" content="Extracts the diagonal vector from a square matrix  or
creates a diagonal matrix  based on a vector or a scalar value
on the server-side."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dsBaseClient</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">6.3.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculates matrix diagonals in the server-side</h1>

    <div class="hidden name"><code>ds.matrixDiag.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extracts the diagonal vector from a square matrix  or
creates a diagonal matrix  based on a vector or a scalar value
on the server-side.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ds.matrixDiag</span><span class="op">(</span></span>
<span>  x1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  aim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nrows.scalar <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  newobj <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  datasources <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x-">x1<a class="anchor" aria-label="anchor" href="#arg-x-"></a></dt>
<dd><p>a character string specifying
the name of a server-side scalar or vector. Also, a numeric value or vector
specified from the client-side can be specified. This argument depends
on the value specified in <code>aim</code>.
For more information see <strong>Details</strong>.</p></dd>


<dt id="arg-aim">aim<a class="anchor" aria-label="anchor" href="#arg-aim"></a></dt>
<dd><p>a character string specifying the behaviour of the function.
This can be set as:
<code>"serverside.vector.2.matrix"</code>, <code>"serverside.scalar.2.matrix"</code>,
<code>"serverside.matrix.2.vector"</code>, <code>"clientside.vector.2.matrix"</code>
or <code>"clientside.scalar.2.matrix"</code>.
For more information see <strong>Details</strong>.</p></dd>


<dt id="arg-nrows-scalar">nrows.scalar<a class="anchor" aria-label="anchor" href="#arg-nrows-scalar"></a></dt>
<dd><p>an integer specifying the dimensions of the matrix
note that the matrix is square (same number of rows and columns).
If this argument is not specified the matrix dimensions are
defined by the length of the vector.
For more information see <strong>Details</strong>.</p></dd>


<dt id="arg-newobj">newobj<a class="anchor" aria-label="anchor" href="#arg-newobj"></a></dt>
<dd><p>a character string that provides the name for the output
variable that is stored on the data servers. Default <code>matrixdiag.newobj</code>.</p></dd>


<dt id="arg-datasources">datasources<a class="anchor" aria-label="anchor" href="#arg-datasources"></a></dt>
<dd><p>a list of <code><a href="https://datashield.github.io/DSI/reference/DSConnection-class.html" class="external-link">DSConnection-class</a></code>
objects obtained after login. If the <code>datasources</code> argument is not specified
the default set of connections will be used: see <code><a href="https://datashield.github.io/DSI/reference/datashield.connections_default.html" class="external-link">datashield.connections_default</a></code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><code>ds.matrixDiag</code> returns to the server-side the square matrix diagonal.
Also, two validity messages are returned
indicating whether the new object has been created in each data source and if so whether
it is in a valid form.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The function behaviour is different depending on the
value specified in the <code>aim</code> argument:<br>
(1) <code>If aim = "serverside.vector.2.matrix"</code>
the function takes a server-side vector and writes out a square matrix with
the vector as its diagonal and all off-diagonal <code>values = 0</code>. The dimensions
of the output matrix are determined by the length of the vector.
If the vector length is <code>k</code>, the output matrix has <code>k</code> rows and <code>k</code> columns.<br>
(2) If <code>aim = "serverside.scalar.2.matrix"</code>
the function takes a server-side scalar and writes out a square matrix with all
diagonal values equal to the value of the scalar
and all off-diagonal <code>values = 0</code>. The dimensions of the square
matrix are determined by the value of the <code>nrows.scalar</code> argument.<br>
(3) If <code>aim = "serverside.matrix.2.vector"</code>
the function takes a square server-side matrix and extracts
its diagonal values as a vector which is written to the server-side.<br>
(4) If <code>aim = "clientside.vector.2.matrix"</code>
the function takes a vector specified on the client-side
and writes out a square matrix to the server-side with
the vector as its diagonal and all off-diagonal <code>values = 0</code>. The dimensions
of the output matrix are determined by the length of the vector.<br>
(5) If <code>aim = "clientside.scalar.2.matrix"</code>
the function takes a scalar specified on the client-side
and writes out a square matrix with all diagonal values equal
to the value of the scalar. The dimensions of the square
matrix are determined by the value of the <code>nrows.scalar</code> argument.</p>
<p>If <code>x1</code> is a vector and the <code>nrows.scalar</code>
is set as <code>k</code>, the vector will be used
repeatedly to fill up the diagonal. For example, the vector is of length
7 and <code>nrows.scalar = 18</code>, a square diagonal matrix with
18 rows and 18 columns will be created.</p>
<p>Server function called: <code>matrixDiagDS</code></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>DataSHIELD Development Team</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>

    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Paul Burton, Rebecca Wilson, Olly Butters, Patricia Ryser-Welch, Alex Westerberg, Leire Abarrategui, Roberto Villegas-Diaz, Demetris Avraam, Demetris Avraam, Yannick Marcon, Tom Bishop, Amadou Gaye, Xavier Escribà-Montagut, Stuart Wheater.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

